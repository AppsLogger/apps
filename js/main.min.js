function showBlockdonate(){$((function(){$("#donate").dialog({autoOpen:!0,modal:!0,width:736,open:function(e,o){$(".ui-widget-overlay").bind("click",(function(){$("#donate").dialog("close")})),$("body").addClass("overflowhidecs")},close:function(e,o){$("body").removeClass("overflowhidecs")}})}))}function showBlockPay(){$((function(){$("#payForm").dialog({autoOpen:!0,modal:!0,width:736,open:function(e,o){$(".ui-widget-overlay").bind("click",(function(){$("#payForm").dialog("close")})),$("body").addClass("overflowhidecs")},close:function(e,o){$("body").removeClass("overflowhidecs")}})}))}function showGroupButton(){$((function(){$("#GroupButton").dialog({autoOpen:!0,modal:!0,width:736,open:function(e,o){$(".ui-widget-overlay").bind("click",(function(){$("#GroupButton").dialog("close")})),$("body").addClass("overflowhidecs")},close:function(e,o){$("body").removeClass("overflowhidecs")}})}))}function showOlderVersions(){$((function(){$("#OlderVersions").dialog({autoOpen:!0,modal:!0,width:736,open:function(e,o){$(".ui-widget-overlay").bind("click",(function(){$("#OlderVersions").dialog("close")})),$("body").addClass("overflowhidecs")},close:function(e,o){$("body").removeClass("overflowhidecs")}})}))}function showVirusModal(){$((function(){$("#VirusModal").dialog({autoOpen:!0,modal:!0,width:736,open:function(e,o){$(".ui-widget-overlay").bind("click",(function(){$("#VirusModal").dialog("close")})),$("body").addClass("overflowhidecs")},close:function(e,o){$("body").removeClass("overflowhidecs")}})}))}function nextPage(){var e=$("#ajax-next-page a").attr("href");ShowLoading(""),$("#more").remove(),void 0!==e&&$.ajax({url:e,success:function(e){$("#more").remove(),HideLoading(""),$(),$("#dle-content").append($("#dle-content",e).html())}})}function nextPageComments(){var e=$("#ajax-next-page a").attr("href");ShowLoading(""),$("#more").remove(),void 0!==e&&$.ajax({url:e,success:function(e){$("#more").remove(),HideLoading(""),$(),$(".discuss").append($(".comm-list",e).html()),$("#ajax-next-page a").attr("href"),commLoaded()}})}function headerDropdown(){document.getElementById("logindrop").classList.toggle("show")}function headerDropdownLang(){document.getElementById("langDropdown").classList.toggle("show")}function headerDropdownMob(){document.getElementById("logindrop-mob").classList.toggle("show")}function Dropdown(e,o=".dropdown__toggle",t=".dropdown__menu",n){this.element=e,this.toggler=e.querySelector(o),this.menu=e.querySelector(t),this.toggleHandler=e=>this.toggle(e),this.toggler.addEventListener("click",this.toggleHandler)}function commLoaded(){document.querySelectorAll(".dropdown__selector").forEach((e=>{new Dropdown(e)}))}$(document).on("mouseup",(function(e){let o=$(".dropdown-lang-content.show");o.is(e.target)||0!==o.has(e.target).length||o.removeClass("show")})),$(".logindrop-mob").click((function(){$(".dropdown-lang-content").css("bottom","-410px").fadeIn({queue:!1}).animate({bottom:"0"},{display:"block"},{queue:!1,duration:1e3}),$(".lang__init").fadeIn({queue:!1}).animate({queue:!1})})),$(".dropdown-lang-content").click((function(){$(".dropdown-lang-content").css("bottom","0").animate({bottom:"-410px"},{queue:!1,duration:1e3}).fadeOut({queue:!1}),$(".lang__init").fadeOut({queue:!1}).animate({queue:!1})})),$(".lang__init").click((function(){$(".dropdown-lang-content").css("bottom","0").animate({bottom:"-410px"},{queue:!1,duration:1e3}).fadeOut({queue:!1}),$(".lang__init").fadeOut({queue:!1}).animate({queue:!1})})),$(".open-nav").click((function(){$(".mob-nav-body").css("bottom","-410px").fadeIn({queue:!1}).animate({bottom:"0"},{display:"block"},{queue:!1,duration:1e3}),$("#mobile-bar").fadeIn({queue:!1}).animate({queue:!1})})),$(".box-icons-mob-close").click((function(){$(".mob-nav-body").css("bottom","0").animate({bottom:"-410px"},{queue:!1,duration:1e3}).fadeOut({queue:!1}),$("#mobile-bar").fadeOut({queue:!1}).animate({queue:!1})})),$(document).mouseup((function(e){var o=$("#mobile-bar");0===o.has(e.target).length&&o.fadeOut({queue:!1}).animate({queue:!1})})),Array.from(document.getElementsByClassName("summ"),(e=>e.textContent=e.textContent.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "))),$(".more-p").length&&($(".more-p").each((function(e){var o=$(this).height();$(this).data("height",o),177<o&&$(this).addClass("minify_content-descritpion").after('<a class="button_more btn-expand">ещё</a>')})),$(document).on("click",".btn-expand",(function(){const e=$(this),o=e.prev(".minify_content-descritpion");e.hasClass("expanded")?o.animate({height:"177"},10,(function(){e.text("ещё").removeClass("expanded")})):o.animate({height:o.data("height")},10,(function(){e.text("").addClass("expanded")}))}))),$(".more-p-info").length&&($(".more-p-info").each((function(e){var o=$(this).height();$(this).data("height",o),72<o&&$(this).addClass("minify_content-descritpion_more").after('<a class="button_more btn-expand">ещё</a>')})),$(document).on("click",".btn-expand",(function(){const e=$(this),o=e.prev(".minify_content-descritpion_more");e.hasClass("expanded")?o.animate({height:"72"},10,(function(){e.text("ещё").removeClass("expanded")})):o.animate({height:o.data("height")},10,(function(){e.text("").addClass("expanded")}))}))),$(".scora").length&&($(".scora").each((function(e){var o=$(this).height();$(this).data("height",o),50<o&&$(this).addClass("minify_content-info").after('<a class="button_arrow btn-expand"><i class="arrow" aria-hidden="true"></i></a>')})),$(document).on("click",".btn-expand",(function(){const e=$(this),o=e.prev(".minify_content-info");e.hasClass("expanded")?o.animate({height:"50"},10,(function(){e.html('<i class="strela" aria-hidden="true"></i>').removeClass("expanded")})):o.animate({height:o.data("height")},10,(function(){e.html("").addClass("expanded")}))}))),window.onclick=function(e){if(!e.target.matches(".dropbtn")){let e;var o=document.getElementsByClassName("dropdown");for(e=0;e<o.length;e++){const t=o[e];t.classList.contains("show")&&t.classList.remove("show")}}},jQuery("html").bind("click",(function(e){!jQuery(".ui-dialog-content").dialog("isOpen")||jQuery(e.target).is(".ui-dialog, a")||jQuery(e.target).closest(".ui-dialog").length||jQuery(".ui-dialog-content").dialog("close")})),jQuery("html").bind("click",(function(e){!jQuery("#dleprofilepopup").dialog("isOpen")||jQuery(e.target).is(".ui-dialog, a")||jQuery(e.target).closest(".ui-dialog").length||jQuery("#dleprofilepopup").dialog("close")})),jQuery("html").bind("click",(function(e){!jQuery("#dlepopup").dialog("isOpen")||jQuery(e.target).is(".ui-dialog, a")||jQuery(e.target).closest(".ui-dialog").length||jQuery("#dlepopup").dialog("close")})),Dropdown.prototype.toggle=function(e){var o="true"==this.menu.dataset.expanded;o?(this.menu.classList.remove("dropdown-menu-visible"),document.removeEventListener("click",this.toggleHandler)):(this.menu.classList.add("dropdown-menu-visible"),setTimeout((()=>document.addEventListener("click",this.toggleHandler)),10)),this.menu.dataset.expanded=""+!o},document.addEventListener("DOMContentLoaded",(()=>{commLoaded()})),$(document).on("click",".favmod",(function(e){e.preventDefault();var o=$(this);ShowLoading(),$.ajax({url:dle_root+"engine/mods/favorites/ajax.php",type:"POST",dataType:"json",data:{newsid:o.data("id")}}).done((function(){o.toggleClass("active")})).fail((function(e){DLEalert(e.responseText,dle_info)})).always((function(){HideLoading()}))}));